{% extends "layout.njk" %}

{% block content %}

{% if pageNumber <= 1 %}
  <nav aria-label="Page navigation example">
    <ul class="pagination justify-content-center">
      <li class="page-item disabled"><a class="shadow mb-5 rounded page-link">page précédente</a></li>
      <li class="page-item"><a class="shadow mb-5 rounded page-link" href="/platform/{{platformSlug}}?page={{pageNumber+1}}">page suivante</a></li>
    </ul>
  </nav>
{% else %}
  <nav aria-label="Page navigation example">
    <ul class="pagination justify-content-center">
      <li class="page-item"><a class="shadow mb-5 rounded page-link" href="/platform/{{platformSlug}}?page={{pageNumber-1}}">page précédente</a></li>
      <li class="page-item"><a class="shadow mb-5 rounded page-link" href="/platform/{{platformSlug}}?page={{pageNumber+1}}">page suivante</a></li>
    </ul>
  </nav>
{% endif %}

<center><h2>Games from the platform : </h2></center>
<center><h3>Page {{pageNumber}}</h3></center>

<div class="cards">
  {% for index in games %}
    <div class="card bg-light shadow mb-5 rounded">
      <center>
        <fieldset>
          <a href="/games/{{index.slug}}">
            {% if index.cover.url %}
              <img src="{{index.cover.url}}">
            {% else %}
              <img src="img/No_image_available.png" height="160px" width="160px">
            {% endif %}
          </a><br>
          <button type="button" class="btn btn-light">
            <a href="/games/{{index.slug}}">{{ index.name }}
            </a>
          </button>
        </fieldset>
      </center>
    </div>
  {% endfor %}
</div>

{% if pageNumber <= 1 %}
  <nav aria-label="Page navigation example">
    <ul class="pagination justify-content-center">
      <li class="page-item disabled"><a class="page-link">page précédente</a></li>
      <li class="page-item"><a class="shadow mb-5 rounded page-link" href="/platform/{{platformSlug}}?page={{pageNumber+1}}">page suivante</a></li>
    </ul>
  </nav>
{% else %}
  <nav aria-label="Page navigation example">
    <ul class="pagination justify-content-center">
      <li class="page-item"><a class="shadow mb-5 rounded page-link" href="/platform/{{platformSlug}}?page={{pageNumber-1}}">page précédente</a></li>
      <li class="page-item"><a class="shadow mb-5 rounded page-link" href="/platform/{{platformSlug}}?page={{pageNumber+1}}">page suivante</a></li>
    </ul>
  </nav>
{% endif %}

{% endblock %}
